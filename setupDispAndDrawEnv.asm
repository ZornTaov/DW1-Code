setupDispAndDrawEnv() {
  bufferId = load(0x136E0C)
  
  store(0x136E6C, load(0x136E84 + bufferId * 2)) // dispEnv area offset X
  store(0x136E6E, load(0x136E88 + bufferId * 2)) // dispEnv area offset Y
  
  PutDispEnv(0x136E6C)
  SetDispMask(1)
  
  frameCount = load(0x136E08) + 1
  frameCount = frameCount == 0 ? 1 : frameCount
    
  store(0x136E08, frameCount)
  store(0x136E0C, load(0x136E0C) < 1 ? 1 : 0)
  
  setupDrawEnv()
  0x00097B08() // something drawEnv related
}

0x00097c98 lui v0,0x8013
0x00097c9c lh v0,0x6e0c(v0)
0x00097ca0 addiu sp,sp,0xffe8
0x00097ca4 sw ra,0x0010(sp)
0x00097ca8 sll v0,v0,0x01
0x00097cac lui v1,0x8013
0x00097cb0 addu v1,v1,v0
0x00097cb4 lhu v1,0x6e84(v1)
0x00097cb8 lui a0,0x8013
0x00097cbc addiu a0,a0,0x6e6c
0x00097cc0 sh v1,0x0000(a0)
0x00097cc4 lui asmTemp,0x8013
0x00097cc8 addu asmTemp,asmTemp,v0
0x00097ccc lhu v0,0x6e88(asmTemp)
0x00097cd0 jal 0x00094bfc
0x00097cd4 sh v0,0x0002(a0)
0x00097cd8 jal 0x00094718
0x00097cdc addiu a0,r0,0x0001
0x00097ce0 lui v0,0x8013
0x00097ce4 lw v0,0x6e08(v0)
0x00097ce8 nop
0x00097cec addiu v0,v0,0x0001
0x00097cf0 addu v1,v0,r0
0x00097cf4 lui asmTemp,0x8013
0x00097cf8 bne v1,r0,0x00097d04
0x00097cfc sw v1,0x6e08(asmTemp)
0x00097d00 addiu v1,r0,0x0001
0x00097d04 lui v0,0x8013
0x00097d08 lh v0,0x6e0c(v0)
0x00097d0c lui asmTemp,0x8013
0x00097d10 sw v1,0x6e08(asmTemp)
0x00097d14 sltiu v0,v0,0x0001
0x00097d18 lui asmTemp,0x8013
0x00097d1c jal 0x00097c18
0x00097d20 sh v0,0x6e0c(asmTemp)
0x00097d24 jal 0x00097b08
0x00097d28 nop
0x00097d2c lw ra,0x0010(sp)
0x00097d30 addiu sp,sp,0x0018
0x00097d34 jr ra
0x00097d38 nop