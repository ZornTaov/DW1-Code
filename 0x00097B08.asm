0x00097B08() {
  someVal = load(0x136E80)
  bufferId = load(0x136E0C)
  
  if(someVal != 0) {
    store(0x136E8C, 0)
    store(0x136E8E, 0)
    
    store(0x136E18, load(0x136DFC) + load(0x136E84 + bufferId * 2)) // texture window X
    store(0x136E1A, load(0x136DFE) + load(0x136E88 + bufferId * 2)) // texture window Y
    
    PutDrawEnv(0x136E10)
  }
  else {
    valOffset = bufferId == 0 ? 2 : 0
    
    offsetX = load(0x136DFC) + load(0x136E84 + valOffset)
    offsetY = load(0x136DFE) + load(0x136E88 + valOffset)
    
    setGTEScreenOffset(offsetX, offsetY)
    
    store(0x136E8C, offsetX)
    store(0x136E8E, offsetY)
  }
}

0x00097b08 lui v0,0x8013
0x00097b0c lh v0,0x6e80(v0)
0x00097b10 addiu sp,sp,0xffe0
0x00097b14 sw ra,0x0018(sp)
0x00097b18 sw s1,0x0014(sp)
0x00097b1c beq v0,r0,0x00097b90
0x00097b20 sw s0,0x0010(sp)
0x00097b24 lui a2,0x8013
0x00097b28 addiu a2,a2,0x6dfc
0x00097b2c lui v1,0x8013
0x00097b30 lh v1,0x6e0c(v1)
0x00097b34 lhu v0,0x0000(a2)
0x00097b38 sll v1,v1,0x01
0x00097b3c lui a0,0x8013
0x00097b40 addu a0,a0,v1
0x00097b44 lhu a0,0x6e84(a0)
0x00097b48 lui a1,0x8013
0x00097b4c addiu a1,a1,0x6e18
0x00097b50 lui asmTemp,0x8013
0x00097b54 sh r0,0x6e8e(asmTemp)
0x00097b58 lui asmTemp,0x8013
0x00097b5c sh r0,0x6e8c(asmTemp)
0x00097b60 addu v0,v0,a0
0x00097b64 sh v0,0x0000(a1)
0x00097b68 lhu v0,0x0002(a2)
0x00097b6c lui asmTemp,0x8013
0x00097b70 addu asmTemp,asmTemp,v1
0x00097b74 lhu v1,0x6e88(asmTemp)
0x00097b78 addiu a0,a1,0xfff8
0x00097b7c addu v0,v0,v1
0x00097b80 jal 0x00094b3c
0x00097b84 sh v0,0x0002(a1)
0x00097b88 j 0x00097bfc
0x00097b8c nop
0x00097b90 lui v0,0x8013
0x00097b94 addiu v0,v0,0x6e84
0x00097b98 lui s0,0x8013
0x00097b9c addiu s0,s0,0x6dfc
0x00097ba0 lui a1,0x8013
0x00097ba4 lh a1,0x6e0c(a1)
0x00097ba8 lh a0,0x0000(s0)
0x00097bac bne a1,r0,0x00097bb8
0x00097bb0 nop
0x00097bb4 addiu v0,v0,0x0002
0x00097bb8 lh v0,0x0000(v0)
0x00097bbc lui v1,0x8013
0x00097bc0 addiu v1,v1,0x6e88
0x00097bc4 addu s1,a0,v0
0x00097bc8 lh v0,0x0002(s0)
0x00097bcc bne a1,r0,0x00097bd8
0x00097bd0 nop
0x00097bd4 addiu v1,v1,0x0002
0x00097bd8 lh s0,0x0000(v1)
0x00097bdc addu a0,s1,r0
0x00097be0 addu s0,v0,s0
0x00097be4 jal 0x0009b340
0x00097be8 addu a1,s0,r0
0x00097bec lui asmTemp,0x8013
0x00097bf0 sh s1,0x6e8c(asmTemp)
0x00097bf4 lui asmTemp,0x8013
0x00097bf8 sh s0,0x6e8e(asmTemp)
0x00097bfc lw ra,0x0018(sp)
0x00097c00 lw s1,0x0014(sp)
0x00097c04 lw s0,0x0010(sp)
0x00097c08 jr ra
0x00097c0c addiu sp,sp,0x0020