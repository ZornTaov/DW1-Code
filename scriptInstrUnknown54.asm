// something waypoint/autowalk related
void scriptInstrUnknown54(scriptId) {
  for(entityId = 0; entityId < 8; entityId++) {
    entityPtr = 0x155828 + entitiyId * 0x68
    
    entityTableEntry = load(0x12F344 + (entityId + 2) * 4)
    
    if(entityTableEntry != 0 && load(entityPtr + 0x65) == scriptId)
      break
  }
  
  locationPtr = load(entityPtr + 0x04)
  
  posX = load(locationPtr + 0x78)
  posY = load(locationPtr + 0x80)
  
  diffX = posX - load(0x13CB54 + entityId * 0xC4 + 0xA4)
  diffY = posY - load(0x13CB54 + entityId * 0xC4 + 0xA8)
  
  store(0x13CB54 + entityId * 0xC4 + 0xA4, posX) // current movement target X
  store(0x13CB54 + entityId * 0xC4 + 0xA8, posY) // current movement target Y
  
  for(i = 0; i < 8; i++) {
    offset = 0x13CB54 + entityId * 0xC4
    v0 = load(offset + 0x80 + i * 0x02)
    
    if(v0 == 0)
      continue
    
    if(v0 == -1)
      break
    
    store(offset + i * 0x10 + 0x00, load(offset + i * 0x10 + 0x00) + diffX)
    store(offset + i * 0x10 + 0x08, load(offset + i * 0x10 + 0x08) + diffY)
  }
}

0x000b797c lui v0,0x8015
0x000b7980 addiu v0,v0,0x5828
0x000b7984 addu a2,r0,r0
0x000b7988 beq r0,r0,0x000b79d4
0x000b798c addiu a3,r0,0x0002
0x000b7990 lui v1,0x8013
0x000b7994 sll a1,a3,0x02
0x000b7998 addiu v1,v1,0xf344
0x000b799c addu v1,v1,a1
0x000b79a0 lw v1,0x0000(v1)
0x000b79a4 nop
0x000b79a8 bne v1,r0,0x000b79b8
0x000b79ac nop
0x000b79b0 beq r0,r0,0x000b79cc
0x000b79b4 addiu v0,v0,0x0068
0x000b79b8 lbu v1,0x0065(v0)
0x000b79bc nop
0x000b79c0 beq v1,a0,0x000b79e0
0x000b79c4 nop
0x000b79c8 addiu v0,v0,0x0068
0x000b79cc addi a2,a2,0x0001
0x000b79d0 addi a3,a3,0x0001
0x000b79d4 slti asmTemp,a2,0x0008
0x000b79d8 bne asmTemp,r0,0x000b7990
0x000b79dc nop
0x000b79e0 sll v1,a2,0x03
0x000b79e4 sub a0,v1,a2
0x000b79e8 sll v1,a0,0x03
0x000b79ec sub v1,v1,a0
0x000b79f0 sll a0,v1,0x02
0x000b79f4 lui v1,0x8014
0x000b79f8 addiu v1,v1,0xcbf8
0x000b79fc lw t1,0x0004(v0)
0x000b7a00 addu t0,v1,a0
0x000b7a04 addu a1,a0,r0
0x000b7a08 lw v1,0x0078(t1)
0x000b7a0c lh a0,0x0000(t0)
0x000b7a10 addu t2,v1,r0
0x000b7a14 sub v1,v1,a0
0x000b7a18 lui a0,0x8014
0x000b7a1c addiu a0,a0,0xcbfc
0x000b7a20 addu a3,a0,a1
0x000b7a24 lw a0,0x0080(t1)
0x000b7a28 lh a2,0x0000(a3)
0x000b7a2c sll v1,v1,0x10
0x000b7a30 sh t2,0x0000(t0)
0x000b7a34 lw v0,0x0004(v0)
0x000b7a38 sub a0,a0,a2
0x000b7a3c lw v0,0x0080(v0)
0x000b7a40 sll a0,a0,0x10
0x000b7a44 sh v0,0x0000(a3)
0x000b7a48 lui v0,0x8014
0x000b7a4c addiu v0,v0,0xcb50
0x000b7a50 addu v0,v0,a1
0x000b7a54 sra v1,v1,0x10
0x000b7a58 sra a0,a0,0x10
0x000b7a5c addiu a2,v0,0x0004
0x000b7a60 addu a3,r0,r0
0x000b7a64 addu t0,r0,r0
0x000b7a68 beq r0,r0,0x000b7ac0
0x000b7a6c addu t1,r0,r0
0x000b7a70 addu v0,t0,a2
0x000b7a74 lh v0,0x0080(v0)
0x000b7a78 nop
0x000b7a7c beq v0,r0,0x000b7ab4
0x000b7a80 addu a1,v0,r0
0x000b7a84 addiu asmTemp,r0,0xffff
0x000b7a88 beq a1,asmTemp,0x000b7acc
0x000b7a8c nop
0x000b7a90 addu a1,a2,t1
0x000b7a94 lw v0,0x0000(a1)
0x000b7a98 nop
0x000b7a9c add v0,v0,v1
0x000b7aa0 sw v0,0x0000(a1)
0x000b7aa4 lw v0,0x0008(a1)
0x000b7aa8 nop
0x000b7aac add v0,v0,a0
0x000b7ab0 sw v0,0x0008(a1)
0x000b7ab4 addi a3,a3,0x0001
0x000b7ab8 addi t1,t1,0x0010
0x000b7abc addi t0,t0,0x0002
0x000b7ac0 slti asmTemp,a3,0x0008
0x000b7ac4 bne asmTemp,r0,0x000b7a70
0x000b7ac8 nop
0x000b7acc jr ra
0x000b7ad0 nop