void handleRestore(int itemId) {
  if(load(0x134F0A) == 1) { // check combat state?  
    0x00062874() // probably healing "dead" state
  
  if(load(0x1557F4) == 0) { // check current HP
    0x000C1A04(load(0x12F348), 0x2C) // play standup animation?
  }
  
  if(itemId == 0xB) {
    maxHP = load(0x1557F0)
  
    if(maxHP >= 0) 
      maxHP += 1
      
    healAmount = maxHP / 2
  } 
  else if(itemId == 0xC) {
    if(load(0x134F0A) == 1) { // check combat state?  
      0x0005ED08(0) // heal status effects
      
    healAmount = 9999
  }
  
  healValue(0x1557F4, healAmount, load(0x1557F0))
  
  if(load(0x134F0A) == 1) { // is in combat
    store(stack + 0x10, 1)
    entityPtr = load(0x12F348)
    unknown = 0
    color = 0xB
    0x000DF868(entityPtr, unknown, color, healAmount) // heal amount display
  }
  
  0x000C1560(load(0x12F348), 1) // particle effects
}

0x000c4834 addiu sp,sp,0xffd8
0x000c4838 sw ra,0x0020(sp)
0x000c483c sw s1,0x001c(sp)
0x000c4840 lb v0,-0x6c22(gp)
0x000c4844 sw s0,0x0018(sp)
0x000c4848 addiu asmTemp,r0,0x0001
0x000c484c bne v0,asmTemp,0x000c485c
0x000c4850 addu s1,a0,r0
0x000c4854 jal 0x00062874
0x000c4858 nop
0x000c485c lui asmTemp,0x8015
0x000c4860 lh v0,0x57f4(asmTemp)
0x000c4864 nop
0x000c4868 bne v0,r0,0x000c4880
0x000c486c nop
0x000c4870 lui asmTemp,0x8013
0x000c4874 lw a0,-0x0cb8(asmTemp)
0x000c4878 jal 0x000c1a04
0x000c487c addiu a1,r0,0x002c
0x000c4880 addiu asmTemp,r0,0x000c
0x000c4884 beq s1,asmTemp,0x000c48c0
0x000c4888 nop
0x000c488c addiu asmTemp,r0,0x000b
0x000c4890 bne s1,asmTemp,0x000c48e4
0x000c4894 nop
0x000c4898 lui asmTemp,0x8015
0x000c489c lh v0,0x57f0(asmTemp)
0x000c48a0 nop
0x000c48a4 bgez v0,0x000c48b4
0x000c48a8 sra t9,v0,0x01
0x000c48ac addiu v0,v0,0x0001
0x000c48b0 sra t9,v0,0x01
0x000c48b4 sll s0,t9,0x10
0x000c48b8 beq r0,r0,0x000c48e4
0x000c48bc sra s0,s0,0x10
0x000c48c0 lb v0,-0x6c22(gp)
0x000c48c4 addiu asmTemp,r0,0x0001
0x000c48c8 bne v0,asmTemp,0x000c48d8
0x000c48cc nop
0x000c48d0 jal 0x0005ed08
0x000c48d4 addu a0,r0,r0
0x000c48d8 addiu v0,r0,0x270f
0x000c48dc sll s0,v0,0x10
0x000c48e0 sra s0,s0,0x10
0x000c48e4 lui asmTemp,0x8015
0x000c48e8 lui a0,0x8015
0x000c48ec lh a2,0x57f0(asmTemp)
0x000c48f0 addiu a0,a0,0x57f4
0x000c48f4 jal 0x000c563c
0x000c48f8 addu a1,s0,r0
0x000c48fc lb v0,-0x6c22(gp)
0x000c4900 addiu asmTemp,r0,0x0001
0x000c4904 bne v0,asmTemp,0x000c492c
0x000c4908 nop
0x000c490c addiu v0,r0,0x0001
0x000c4910 sw v0,0x0010(sp)
0x000c4914 lui asmTemp,0x8013
0x000c4918 lw a0,-0x0cb8(asmTemp)
0x000c491c addu a1,r0,r0
0x000c4920 addiu a2,r0,0x000b
0x000c4924 jal 0x000df868
0x000c4928 addu a3,s0,r0
0x000c492c lui asmTemp,0x8013
0x000c4930 lw a0,-0x0cb8(asmTemp)
0x000c4934 jal 0x000c1560
0x000c4938 addiu a1,r0,0x0001
0x000c493c lw ra,0x0020(sp)
0x000c4940 lw s1,0x001c(sp)
0x000c4944 lw s0,0x0018(sp)
0x000c4948 jr ra
0x000c494c addiu sp,sp,0x0028