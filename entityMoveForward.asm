void entityMoveForward(entityPtr) {
  somePtr1 = load(entityPtr + 0x0C)
  someArray = short[41]
  
  for(i = 0; i < 41; i++)
    someArray[i] = load(somePtr1 + i * 2)
  
  someValue1 = someArray[17] // load(sp + 0x66)
  someValue2 = someArray[35] // load(sp + 0x8A)
  
  if(someValue1 != 0 && someValue2 <= someValue1)
    velocity = (someArray[26] + someArray[40]) << 0x0F
  else
    velocity = someArray[26] << 0x0F
  
  locationPtr = load(entityPtr + 0x04)
  
  vector = { 0, 0, velocity }
  rotMatrix = int[3][3]
  rotatedVector = int[3]
  
  rotVecToRotMatrix(locationPtr + 0x70, rotMatrix)
  rotateVectorByMatrix(rotMatrix, vector, rotatedVector)
  
  posX = (load(entityPtr + 0x10) + rotatedVector[0]) >> 0x0F
  posZ = (load(entityPtr + 0x18) + rotatedVector[2]) >> 0x0F
  
  store(locationPtr + 0x78, posX)
  store(locationPtr + 0x7C, 0)
  store(locationPtr + 0x80, posZ)
}

0x000d4f10 addiu sp,sp,0xff48
0x000d4f14 sw ra,0x0018(sp)
0x000d4f18 sw s1,0x0014(sp)
0x000d4f1c sw s0,0x0010(sp)
0x000d4f20 addu s1,a0,r0
0x000d4f24 lw t8,0x000c(s1)
0x000d4f28 addiu t7,sp,0x0044
0x000d4f2c addiu t9,r0,0x0029
0x000d4f30 lh t6,0x0000(t8)
0x000d4f34 addiu t9,t9,0xffff
0x000d4f38 sh t6,0x0000(t7)
0x000d4f3c addiu t8,t8,0x0002
0x000d4f40 bgtz t9,0x000d4f30
0x000d4f44 addiu t7,t7,0x0002
0x000d4f48 addiu v0,sp,0x0066
0x000d4f4c lh v0,0x0000(v0)
0x000d4f50 addiu a0,sp,0x0078
0x000d4f54 beq v0,r0,0x000d4f94
0x000d4f58 addu v1,v0,r0
0x000d4f5c lh v0,0x008a(sp)
0x000d4f60 nop
0x000d4f64 sub v0,v0,v1
0x000d4f68 bgtz v0,0x000d4f88
0x000d4f6c nop
0x000d4f70 lb v1,0x0094(sp)
0x000d4f74 lh v0,0x0000(a0)
0x000d4f78 nop
0x000d4f7c add v0,v0,v1
0x000d4f80 beq r0,r0,0x000d4fa0
0x000d4f84 sll v0,v0,0x0f
0x000d4f88 lh v0,0x0000(a0)
0x000d4f8c beq r0,r0,0x000d4fa0
0x000d4f90 sll v0,v0,0x0f
0x000d4f94 lh v0,0x0000(a0)
0x000d4f98 nop
0x000d4f9c sll v0,v0,0x0f
0x000d4fa0 lw s0,0x0004(s1)
0x000d4fa4 addiu a1,sp,0x0098
0x000d4fa8 sw r0,0x0024(sp)
0x000d4fac sw r0,0x0028(sp)
0x000d4fb0 sw v0,0x002c(sp)
0x000d4fb4 jal 0x0009b804
0x000d4fb8 addiu a0,s0,0x0070
0x000d4fbc addiu a0,sp,0x0098
0x000d4fc0 addiu a1,sp,0x0024
0x000d4fc4 jal 0x0009ab10
0x000d4fc8 addiu a2,sp,0x0034
0x000d4fcc addiu a0,s1,0x000c
0x000d4fd0 lw v1,0x0004(a0)
0x000d4fd4 lw v0,0x0034(sp)
0x000d4fd8 nop
0x000d4fdc add v0,v1,v0
0x000d4fe0 sra v0,v0,0x0f
0x000d4fe4 sw v0,0x0078(s0)
0x000d4fe8 sw r0,0x007c(s0)
0x000d4fec lw v1,0x000c(a0)
0x000d4ff0 lw v0,0x003c(sp)
0x000d4ff4 nop
0x000d4ff8 add v0,v1,v0
0x000d4ffc sra v0,v0,0x0f
0x000d5000 sw v0,0x0080(s0)
0x000d5004 lw ra,0x0018(sp)
0x000d5008 lw s1,0x0014(sp)
0x000d500c lw s0,0x0010(sp)
0x000d5010 jr ra
0x000d5014 addiu sp,sp,0x00b8