int handleSpecialEvolutions(input, entityPtr) {
  if(loadMenuState() != 0)
    return -1
  
  entityType = load(entityPtr)
  
  digimonLevel = load(0x12CED1 + entityType * 52)
  defense = load(0x1557E2)
  discipline = load(0x138488)
  happiness = load(0x13848A)
  evoTimer = load(0x1384B6)
  battles = load(0x1384B4)
  tiredness = load(0x138482)
  
  rolled = random(100)
  result = -1
  
  
  if(input == 2) {
    if(rolled < 30) {
      // Birdramon/Seadramon -> Airdramon
      if(digimonType == 21 || digimonType == 10) {
      && discipline == 100 && happiness == 100 && tiredness == 0)
        result = 7
      
      // Vegiemon -> Ninjamon
      if(digimonType == 25 && battles >= 50 && discipline == 100)
        result = 58
      
      // Drimogemon -> Monochromon
      if(digimonType == 38 && defense >= 500 && discipline == 100)
        result = 47
    }
    
    // Baby Digimon -> Kunemon
    if(rolled < 50)
      if(digimonType == 2 || digimonType == 30 || digimonType == 16 || digimonType == 44 && load(0x134DA8) == 1)
        result = 32
  }
  else if(input == 3) {
    // Shellmon/Whamon -> Coelamon
    if(digimonType == 24 || digimonType == 35 && digimonLevel == 4 && evoTimer == 200 && rolled >= 30)
      result = 31
    
    // Nanimon
    if(load(0x134C64) != 0) {
      result = 53
      store(0x134C64, 0)
    }
    
    // Vademon
    if(digimonLevel == 4 && evoTimer >= 240 && rolled < 50)
      result = 24
  }
  
  if(result != -1) {
    store(0x134E50, result)
    setMenuState(6)
    setDigimonState(13) // triggers evolution
  }
  
  return result
}

0x000e3234 addiu sp,sp,0xffc0
0x000e3238 sw ra,0x0034(sp)
0x000e323c sw fp,0x0030(sp)
0x000e3240 sw s7,0x002c(sp)
0x000e3244 sw s6,0x0028(sp)
0x000e3248 sw s5,0x0024(sp)
0x000e324c sw s4,0x0020(sp)
0x000e3250 sw s3,0x001c(sp)
0x000e3254 sw s2,0x0018(sp)
0x000e3258 sw s1,0x0014(sp)
0x000e325c sw s0,0x0010(sp)
0x000e3260 addu s4,a0,r0
0x000e3264 jal 0x000ac050
0x000e3268 addu s0,a1,r0
0x000e326c beq v0,r0,0x000e327c
0x000e3270 nop
0x000e3274 beq r0,r0,0x000e34e0
0x000e3278 addiu v0,r0,0xffff
0x000e327c lw s0,0x0000(s0)
0x000e3280 lui asmTemp,0x8015
0x000e3284 sll v0,s0,0x01
0x000e3288 add v0,v0,s0
0x000e328c sll v0,v0,0x02
0x000e3290 add v0,v0,s0
0x000e3294 sll v1,v0,0x02
0x000e3298 lui v0,0x8013
0x000e329c addiu v0,v0,0xced1
0x000e32a0 addu v0,v0,v1
0x000e32a4 lbu v0,0x0000(v0)
0x000e32a8 addiu a0,r0,0x0064
0x000e32ac sll s2,v0,0x10
0x000e32b0 lh v0,0x57e2(asmTemp)
0x000e32b4 lui asmTemp,0x8014
0x000e32b8 lh s3,-0x7b78(asmTemp)
0x000e32bc sw v0,0x003c(sp)
0x000e32c0 lui asmTemp,0x8014
0x000e32c4 lh fp,-0x7b76(asmTemp)
0x000e32c8 lui asmTemp,0x8014
0x000e32cc lh s5,-0x7b4a(asmTemp)
0x000e32d0 lui asmTemp,0x8014
0x000e32d4 lh s7,-0x7b4c(asmTemp)
0x000e32d8 lui asmTemp,0x8014
0x000e32dc lh s6,-0x7b7e(asmTemp)
0x000e32e0 jal 0x000a36d4
0x000e32e4 sra s2,s2,0x10
0x000e32e8 sll v1,v0,0x10
0x000e32ec addiu v0,r0,0xffff
0x000e32f0 sll s1,v0,0x10
0x000e32f4 sra v1,v1,0x10
0x000e32f8 addiu asmTemp,r0,0x0003
0x000e32fc beq s4,asmTemp,0x000e3424
0x000e3300 sra s1,s1,0x10
0x000e3304 addiu asmTemp,r0,0x0002
0x000e3308 bne s4,asmTemp,0x000e34bc
0x000e330c nop
0x000e3310 slti asmTemp,v1,0x001e
0x000e3314 beq asmTemp,r0,0x000e33c8
0x000e3318 nop
0x000e331c addiu asmTemp,r0,0x0015
0x000e3320 beq s0,asmTemp,0x000e3334
0x000e3324 nop
0x000e3328 addiu asmTemp,r0,0x000a
0x000e332c bne s0,asmTemp,0x000e3360
0x000e3330 nop
0x000e3334 addiu asmTemp,r0,0x0064
0x000e3338 bne s3,asmTemp,0x000e3360
0x000e333c nop
0x000e3340 addiu asmTemp,r0,0x0064
0x000e3344 bne fp,asmTemp,0x000e3360
0x000e3348 nop
0x000e334c bne s6,r0,0x000e3360
0x000e3350 nop
0x000e3354 addiu v0,r0,0x0007
0x000e3358 sll s1,v0,0x10
0x000e335c sra s1,s1,0x10
0x000e3360 addiu asmTemp,r0,0x0019
0x000e3364 bne s0,asmTemp,0x000e3390
0x000e3368 nop
0x000e336c slti asmTemp,s7,0x0032
0x000e3370 bne asmTemp,r0,0x000e3390
0x000e3374 nop
0x000e3378 addiu asmTemp,r0,0x0064
0x000e337c bne s3,asmTemp,0x000e3390
0x000e3380 nop
0x000e3384 addiu v0,r0,0x003a
0x000e3388 sll s1,v0,0x10
0x000e338c sra s1,s1,0x10
0x000e3390 addiu asmTemp,r0,0x0026
0x000e3394 bne s0,asmTemp,0x000e33c8
0x000e3398 nop
0x000e339c lw v0,0x003c(sp)
0x000e33a0 nop
0x000e33a4 slti asmTemp,v0,0x01f4
0x000e33a8 bne asmTemp,r0,0x000e33c8
0x000e33ac nop
0x000e33b0 addiu asmTemp,r0,0x0064
0x000e33b4 bne s3,asmTemp,0x000e33c8
0x000e33b8 nop
0x000e33bc addiu v0,r0,0x002f
0x000e33c0 sll s1,v0,0x10
0x000e33c4 sra s1,s1,0x10
0x000e33c8 slti asmTemp,v1,0x0032
0x000e33cc beq asmTemp,r0,0x000e34bc
0x000e33d0 nop
0x000e33d4 addiu asmTemp,r0,0x0002
0x000e33d8 beq s0,asmTemp,0x000e3404
0x000e33dc nop
0x000e33e0 addiu asmTemp,r0,0x001e
0x000e33e4 beq s0,asmTemp,0x000e3404
0x000e33e8 nop
0x000e33ec addiu asmTemp,r0,0x0010
0x000e33f0 beq s0,asmTemp,0x000e3404
0x000e33f4 nop
0x000e33f8 addiu asmTemp,r0,0x002c
0x000e33fc bne s0,asmTemp,0x000e34bc
0x000e3400 nop
0x000e3404 lbu v0,-0x6d84(gp)
0x000e3408 addiu asmTemp,r0,0x0001
0x000e340c bne v0,asmTemp,0x000e34bc
0x000e3410 nop
0x000e3414 addiu v0,r0,0x0020
0x000e3418 sll s1,v0,0x10
0x000e341c beq r0,r0,0x000e34bc
0x000e3420 sra s1,s1,0x10
0x000e3424 addiu asmTemp,r0,0x0018
0x000e3428 beq s0,asmTemp,0x000e343c
0x000e342c nop
0x000e3430 addiu asmTemp,r0,0x0023
0x000e3434 bne s0,asmTemp,0x000e346c
0x000e3438 nop
0x000e343c addiu asmTemp,r0,0x0004
0x000e3440 bne s2,asmTemp,0x000e346c
0x000e3444 nop
0x000e3448 addiu asmTemp,r0,0x00c8
0x000e344c bne s5,asmTemp,0x000e346c
0x000e3450 nop
0x000e3454 slti asmTemp,v1,0x001e
0x000e3458 beq asmTemp,r0,0x000e346c
0x000e345c nop
0x000e3460 addiu v0,r0,0x0031
0x000e3464 sll s1,v0,0x10
0x000e3468 sra s1,s1,0x10
0x000e346c lw v0,-0x6ec8(gp)
0x000e3470 addiu asmTemp,r0,0x0001
0x000e3474 bne v0,asmTemp,0x000e348c
0x000e3478 nop
0x000e347c addiu v0,r0,0x0035
0x000e3480 sll s1,v0,0x10
0x000e3484 sra s1,s1,0x10
0x000e3488 sw r0,-0x6ec8(gp)
0x000e348c addiu asmTemp,r0,0x0004
0x000e3490 bne s2,asmTemp,0x000e34bc
0x000e3494 nop
0x000e3498 slti asmTemp,s5,0x00f0
0x000e349c bne asmTemp,r0,0x000e34bc
0x000e34a0 nop
0x000e34a4 slti asmTemp,v1,0x0032
0x000e34a8 beq asmTemp,r0,0x000e34bc
0x000e34ac nop
0x000e34b0 addiu v0,r0,0x001c
0x000e34b4 sll s1,v0,0x10
0x000e34b8 sra s1,s1,0x10
0x000e34bc addiu asmTemp,r0,0xffff
0x000e34c0 beq s1,asmTemp,0x000e34dc
0x000e34c4 nop
0x000e34c8 sh s1,-0x6cdc(gp)
0x000e34cc jal 0x000aa188
0x000e34d0 addiu a0,r0,0x0006
0x000e34d4 jal 0x000df4d0
0x000e34d8 addiu a0,r0,0x000d
0x000e34dc addu v0,s1,r0
0x000e34e0 lw ra,0x0034(sp)
0x000e34e4 lw fp,0x0030(sp)
0x000e34e8 lw s7,0x002c(sp)
0x000e34ec lw s6,0x0028(sp)
0x000e34f0 lw s5,0x0024(sp)
0x000e34f4 lw s4,0x0020(sp)
0x000e34f8 lw s3,0x001c(sp)
0x000e34fc lw s2,0x0018(sp)
0x000e3500 lw s1,0x0014(sp)
0x000e3504 lw s0,0x0010(sp)
0x000e3508 jr ra
0x000e350c addiu sp,sp,0x0040