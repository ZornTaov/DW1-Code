void resetFlatten(combatId) {
  combatHead = load(0x134D4C)
  entityId = load(combatHead + combatId + 0x066C)
  entityPtr = load(0x12F344 + entityId * 4)
  combatPtr = combatHead + combatId * 0x168
  
  flags = load(combatPtr + 0x34) & 0xFFF7
  
  store(combatPtr + 0x22, 0)
  store(combatPtr + 0x34, flags)
  store(entityPtr + 0x36, -1)
  
  digimonType = load(entityPtr)
  nodePtr = load(entityPtr + 0x04)
  
  if(digimonType != 0x71) {
    store(nodePtr + 0x60, 0x1000)
    store(nodePtr + 0x64, 0x1000)
    store(nodePtr + 0x68, 0x1000)
  }
  else { // Meteormon??
    store(nodePtr + 0x60, 0x1800)
    store(nodePtr + 0x64, 0x1800)
    store(nodePtr + 0x68, 0x1800)
  }
}

0x00059078 lw v0,-0x6de0(gp)
0x0005907c addu a2,a0,r0
0x00059080 addu a3,v0,r0
0x00059084 addu v0,a0,v0
0x00059088 lbu v0,0x066c(v0)
0x0005908c addiu asmTemp,r0,0x0071
0x00059090 sll v1,v0,0x02
0x00059094 lui v0,0x8013
0x00059098 addiu v0,v0,0xf344
0x0005909c addu v0,v0,v1
0x000590a0 lw a1,0x0000(v0)
0x000590a4 sll v0,a2,0x04
0x000590a8 sub v1,v0,a2
0x000590ac sll v0,v1,0x02
0x000590b0 sub v0,v0,v1
0x000590b4 sll v0,v0,0x03
0x000590b8 addu v1,a3,v0
0x000590bc addiu v0,r0,0xffff
0x000590c0 sb v0,0x0036(a1)
0x000590c4 lhu v0,0x0034(v1)
0x000590c8 nop
0x000590cc andi v0,v0,0xfff7
0x000590d0 sh v0,0x0034(v1)
0x000590d4 sh r0,0x0022(v1)
0x000590d8 lw v0,0x0000(a1)
0x000590dc nop
0x000590e0 beq v0,asmTemp,0x00059110
0x000590e4 nop
0x000590e8 addiu a0,r0,0x1000
0x000590ec lw v0,0x0004(a1)
0x000590f0 addu v1,a0,r0
0x000590f4 sw a0,0x0060(v0)
0x000590f8 lw v0,0x0004(a1)
0x000590fc nop
0x00059100 sw v1,0x0064(v0)
0x00059104 lw v0,0x0004(a1)
0x00059108 beq r0,r0,0x00059138
0x0005910c sw a0,0x0068(v0)
0x00059110 addiu a0,r0,0x1800
0x00059114 lw v0,0x0004(a1)
0x00059118 addu v1,a0,r0
0x0005911c sw a0,0x0060(v0)
0x00059120 lw v0,0x0004(a1)
0x00059124 nop
0x00059128 sw v1,0x0064(v0)
0x0005912c lw v0,0x0004(a1)
0x00059130 nop
0x00059134 sw a0,0x0068(v0)
0x00059138 jr ra
0x0005913c nop